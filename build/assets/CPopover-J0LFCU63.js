import{r,_ as z,R as n,a as s,c as G,P as e,w as J,v as K}from"./index-DQvjgStD.js";import{C as Q}from"./CConditionalPortal-BS2K3NAO.js";import{u as U}from"./useForkedRef-JzaBuqs-.js";import{u as W}from"./isRTL-DaGrxY3a.js";import{g as X,e as Y}from"./getRTLPlacement-DQDE-4xU.js";var T=r.forwardRef(function(o,C){var L=o.children,p=o.animation,S=p===void 0?!0:p,M=o.className,H=o.container,O=o.content,m=o.delay,c=m===void 0?0:m,d=o.fallbackPlacements,x=d===void 0?["top","right","bottom","left"]:d,v=o.offset,F=v===void 0?[0,8]:v,b=o.onHide,h=o.onShow,g=o.placement,q=g===void 0?"top":g,_=o.title,y=o.trigger,a=y===void 0?"click":y,u=o.visible,j=z(o,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","title","trigger","visible"]),t=r.useRef(null),l=r.useRef(null),A=U(C,t),P=r.useRef("popover".concat(Math.floor(Math.random()*1e6))),w=W(),B=w.initPopper,k=w.destroyPopper,R=r.useState(!1),D=R[0],E=R[1],N=r.useState(u),f=N[0],i=N[1],I=typeof c=="number"?{show:c,hide:c}:c,V={modifiers:[{name:"arrow",options:{element:".popover-arrow"}},{name:"flip",options:{fallbackPlacements:x}},{name:"offset",options:{offset:F}}],placement:X(q,l.current)};return r.useEffect(function(){i(u)},[u]),r.useEffect(function(){return f&&(E(!0),t.current&&(t.current.classList.remove("fade","show"),k()),setTimeout(function(){l.current&&t.current&&(S&&t.current.classList.add("fade"),B(l.current,t.current,V),t.current.classList.add("show"),h&&h())},I.show)),function(){t.current&&(t.current.classList.remove("show"),b&&b(),Y(function(){k(),E(!1)},t.current))}},[f]),n.createElement(n.Fragment,null,n.cloneElement(L,s(s(s(s(s({},f&&{"aria-describedby":P.current}),{ref:l}),(a==="click"||a.includes("click"))&&{onClick:function(){return i(!f)}}),(a==="focus"||a.includes("focus"))&&{onFocus:function(){return i(!0)},onBlur:function(){return i(!1)}}),(a==="hover"||a.includes("hover"))&&{onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)}})),n.createElement(Q,{container:H,portal:!0},D&&n.createElement("div",s({className:G("popover","bs-popover-auto",M),id:P.current,ref:A,role:"tooltip"},j),n.createElement("div",{className:"popover-arrow"}),n.createElement("div",{className:"popover-header"},_),n.createElement("div",{className:"popover-body"},O))))});T.propTypes={animation:e.bool,children:e.node,className:e.string,container:e.any,content:e.oneOfType([e.string,e.node]),delay:e.oneOfType([e.number,e.shape({show:e.number.isRequired,hide:e.number.isRequired})]),fallbackPlacements:J,offset:e.any,onHide:e.func,onShow:e.func,placement:e.oneOf(["auto","top","right","bottom","left"]),title:e.oneOfType([e.string,e.node]),trigger:K,visible:e.bool};T.displayName="CPopover";export{T as C};
